import{M as F,m as R,f as p,k as x,p as a,w as V,i as m,u as M,l as w,n as s,S as P,q as n,R as C,t as d,W as B,V as E}from"./index-DYImx1TP.js";const L={class:"d-flex flex-wrap justify-content-center aling-items-center my-17"},T={key:0,class:"mb-11 py-11 alert alert-danger"},j={class:"mb-8"},z={class:"mb-8"},D={class:"mb-8"},I={class:"mb-16"},W={class:"mb-11 text-center"},A=["disabled"],J={__name:"SignUpView",setup(G){const k=M(),y=F(),_=R(),{openLoading:N,closeLoading:b}=y,{pushMessage:f}=_,g=p(null),u=p(""),l=p({email:"",password:"",confirmPassword:"",nickName:""});async function q(){var c,e;N();try{const t=await B(l.value),{data:r}=t.data;E(r.token),g.value.resetForm(),f({style:"success",title:"註冊成功",text:"註冊成功，將跳轉至首頁"}),k.push("/"),b()}catch(t){f({style:"danger",title:"註冊失敗",text:"註冊失敗請，重新註冊"}),u.value=((e=(c=t.response)==null?void 0:c.data)==null?void 0:e.message)||"註冊失敗，請重新註冊",b()}}return(c,e)=>{const t=m("VField"),r=m("ErrorMessage"),S=m("router-link"),U=m("VForm");return w(),x("section",L,[a(U,{class:"accountForm bg-white rounded-3 shadow",onSubmit:q,ref_key:"formRef",ref:g},{default:V(({errors:i,meta:v})=>[e[10]||(e[10]=s("h1",{class:"mb-11 text-center h3"},"註冊",-1)),e[11]||(e[11]=s("p",{class:"mb-11 text-center text-muted lh-lg"},[n(" 歡迎來到我的秘密食譜 "),s("span",{class:"d-block"}," 一起來加入屬於我們食譜的旅程吧！ ")],-1)),u.value?(w(),x("p",T,[e[4]||(e[4]=s("i",{class:"bi bi-exclamation-triangle-fill me-4"},null,-1)),n(" "+C(u.value),1)])):P("",!0),s("div",j,[e[5]||(e[5]=s("label",{for:"email",class:"d-block mb-4"},[s("span",{class:"text-danger"},"*"),n(" 電子信箱： ")],-1)),a(t,{type:"email",name:"電子信箱",id:"email",class:d(["form-control",{"is-invalid":i.電子信箱}]),placeholder:"請輸入電子信箱",rules:"email|required",modelValue:l.value.email,"onUpdate:modelValue":e[0]||(e[0]=o=>l.value.email=o),required:""},null,8,["class","modelValue"]),a(r,{name:"電子信箱",class:"text-danger"})]),s("div",z,[e[6]||(e[6]=s("label",{for:"nickName",class:"block mb-4"},[s("span",{class:"text-danger"},"*"),n(" 暱稱： ")],-1)),a(t,{type:"text",name:"暱稱",id:"nickName",class:d(["form-control",{"is-invalid":i.暱稱}]),placeholder:"請輸入暱稱",rules:"min:2|max:10|required",modelValue:l.value.nickName,"onUpdate:modelValue":e[1]||(e[1]=o=>l.value.nickName=o),required:""},null,8,["class","modelValue"]),a(r,{name:"暱稱",class:"text-danger"})]),s("div",D,[e[7]||(e[7]=s("label",{for:"password",class:"d-block mb-4"},[s("span",{class:"text-danger"},"*"),n(" 密碼： ")],-1)),a(t,{type:"password",name:"密碼",id:"password",class:d(["form-control",{"is-invalid":i.密碼}]),placeholder:"請輸入密碼",rules:"password:8|required",modelValue:l.value.password,"onUpdate:modelValue":e[2]||(e[2]=o=>l.value.password=o),required:""},null,8,["class","modelValue"]),a(r,{name:"密碼",class:"text-danger"})]),s("div",I,[e[8]||(e[8]=s("label",{for:"confirmPassword",class:"d-block mb-4"},[s("span",{class:"text-danger"},"*"),n(" 確認密碼： ")],-1)),a(t,{type:"password",name:"確認密碼",id:"confirmPassword",class:d(["form-control",{"is-invalid":i.確認密碼}]),placeholder:"請輸入確認密碼",rules:"confirmed:@密碼",modelValue:l.value.confirmPassword,"onUpdate:modelValue":e[3]||(e[3]=o=>l.value.confirmPassword=o),required:""},null,8,["class","modelValue"]),a(r,{name:"確認密碼",class:"text-danger"})]),s("div",W,[s("button",{type:"submit","aria-disabled":"true",class:d(["w-75 btn btn-primary",{disabled:!v.valid}]),disabled:!v.valid}," 立即登入 ",10,A)]),a(S,{to:"/signIn",class:"d-block text-end text-decoration-underline"},{default:V(()=>e[9]||(e[9]=[n(" 已經有帳號了？立即登入 ")])),_:1})]),_:1},512)])}}};export{J as default};
